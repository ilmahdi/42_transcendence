<div *ngIf="!roomConvers[0]">
    <div class="body" *ngIf="userEmitted && displayConversation" [style.display]="userEmitted[1]? 'block': 'none'">
        <div class="header">
            <span class="fa fa-angle-double-left" (click)="getConversEvent()"></span>
            <img src="../../../../assets/sghajdao.jpg" alt="avatar">
            <span id="conv">Conversation with <span style="font-weight: bolder;">{{userEmitted[0].firstName}}</span></span>
        </div>

        <div class="messages">
            <div *ngFor="let message of messages">
                <br>
                <div *ngIf="message.senderId === userId && message.receiverId === userEmitted[0].id" class="sentMessage">
                    <p>&emsp;{{message.message}}&emsp;</p>
                </div>
                <div *ngIf="message.receiverId === userId && message.senderId === userEmitted[0].id" class="receivedMessage">
                    <p>&emsp;{{message.message}}&emsp;</p>
                </div>
                <br>
            </div>
        </div>

        <!-- <p *ngFor="let item of messages" style="color: white;">{{item.message}}</p> -->

        <div class="writing">
            <form [formGroup]="msg">
                <input type="text" id="typing" placeholder="write a message" formControlName="message">
            </form>
            <div class="send" (click)="sendPrivateMessage()">
                <div class="disk">
                    <span class="fa fa-send" (click)="sendPrivateMessage()"></span>
                </div>
            </div>
        </div>
    </div>
</div>


<div *ngIf="roomConvers[0]">
    <div class="body" *ngIf="roomConvers && displayConversation" [style.display]="roomConvers[1]? 'block': 'none'">
        <div class="header">
            <div class="options" (click)="openOptions()">
                <span class="fa fa-ellipsis-v"></span>
            </div>
            <span class="fa fa-angle-double-left" (click)="getConversEvent()"></span>
            <img [src]="'http://localhost:3000/api/chat/image/' + roomConvers[0].imagePath" alt="avatar">
            <span id="conv">Conversation in <span style="font-weight: bolder;">{{roomConvers[0].name}}</span></span>
        </div>

        <div class="messages">
            <div *ngFor="let message of roomMessage">
                <br>
                <span *ngIf="message.senderId === userId" id="sentMessage">
                    <p>&emsp;{{message.message}}&emsp;</p>
                </span>
                <img src="../../../../assets/sghajdao.jpg" *ngIf="message.senderId !== userId" style="font-size: 25px; margin-left: 10px;margin-top: 0px;">
                <span *ngIf="message.senderId !== userId" id="receivedMessage" style="left:50px;">
                    <p>&emsp;{{message.message}}&emsp;</p>
                </span>
                <br>
            </div>
        </div>

        <!-- <p *ngFor="let item of roomMessage" style="color: white;">{{item.message}}</p> -->

        <form [formGroup]="msg">
            <input type="text" id="typing" placeholder="write a message" formControlName="message">
        </form>
        <div class="send" (click)="sendRoomMessage()">
            <div class="disk">
                <span class="fa fa-send" (click)="sendRoomMessage()"></span>
            </div>
        </div>
    </div>

</div>
<app-room-options *ngIf="options"></app-room-options>