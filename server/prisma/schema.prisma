// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

// costume datatypes
//********************************************************************//
enum Status {
  ONLINE
  OFFLINE
}
enum FriendshipStatus {
  WAITING
  REFUSED
  ACCEPTED
  
}
enum MatchStatus {
  PLAING
  WAITING
  ENDED
}
enum ChannelTypes {
  MONO
  MULTI
}
enum AccessTypes {
  PUBLIC
  PRIVATE
  PROTECTED
}
enum AccessLevels {
  NORMAL
  BANNED
  MUTED
}

enum RoomType {
  PUBLIC
  PROTECTED
  PRIVATE
}

// database models
//********************************************************************//
model User {
  id                  Int         @id @default(autoincrement())
  socketId            String?
  firstName           String    
  lastName            String      
  email               String?     @unique
  password            String?
  imagePath           String?
}

model Message { 
  id                  Int     @id @default(autoincrement())
  senderId            Int
  receiverId          Int
  message             String
  date                DateTime
  readed              Boolean @default(false)
  roomId              Int     @default(-1)
} 

model Room { 
  id        Int       @id @default(autoincrement())
  adminId   Int[]     @default([]) // Prisma uses arrays natively for integer arrays
  name      String    @default("Room")
  usersId   Int[]     @default([])
  type      RoomType  @default(PUBLIC)
  password  String?
  imagePath String    @default("default.png")
}
